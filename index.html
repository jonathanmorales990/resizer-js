<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="utf-8">
		<script type="text/javascript">
			document.addEventListener("DOMContentLoaded", function (event) {
				var element = document.getElementById('resizer');
				var parent = element.parentNode;
				resizer.applyResizer = function (element) {
					this.addBorders(element);
					this.onMoveEvent(element, this.onResizeEvent);
				}
				resizer.onResizeEvent = function (e) {
					var x = e.clientX;
					var y = e.clientY;
					element.style.width = x+'px';
					element.style.height = y+'px';
				}
				resizer.addBorders = function (element) {
					var nodeCorner = document.createElement('div');
					element.addEventListener('click', function (event) { 
						console.log('cliked');
					});
					element.style.border = '1px solid black';
				}
				resizer.onMoveEvent = function (target, whileMove) {
					var endMove = function () {
						window.removeEventListener('mousemove', whileMove);
						window.removeEventListener('mouseup', endMove);
					};
					target.addEventListener('mousedown', function (event) {
						event.stopPropagation();
						window.addEventListener('mousemove', whileMove);
						window.addEventListener('mouseup', endMove);
					});
				}
				resizer.applyResizer(element);
			});
			function clickEvent(e) {
				// e = Mouse click event.
				var rect = e.target.getBoundingClientRect();
				var x = e.clientX - rect.left; //x position within the element.
				var y = e.clientY - rect.top;  //y position within the element.
			}
			function hasClass (el, className) {
				if (el.classList)
					return el.classList.contains(className);
				return !!el.className.match(new RegExp('(\\s|^)' + className + '(\\s|$)'));
			}
			function addClass (el, className) {
				if (el.classList)
					el.classList.add(className)
				else if (!hasClass(el, className))
					el.className += " " + className;
			}
			function removeClass (el, className) {
				if (el.classList)
					el.classList.remove(className)
				else if (hasClass(el, className)) {
					var reg = new RegExp('(\\s|^)' + className + '(\\s|$)');
					el.className = el.className.replace(reg, ' ');
				}
			}
			function setAttributes(el, attrs) {
				for (var key in attrs) {
					el.setAttribute(key, attrs[key]);
				}
			}
		</script>
		<style type="text/css">
			.enable-resizer {

			}
			.enable-resizer:after {

			}
		</style>
		<title>Resizer</title>
	</head>
	<body>
		<div id="resizer" style="width: 250px; height: 250px; background-color: lightgrey;"></div>
	</body>
</hmtl>
